<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: methods/colours.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: methods/colours.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Convert a hex digit to float
 * @param {*} hex 
 * @returns {number}
 */

function hexDigitToFloat(hex){
    return parseInt(hex, 16) / 255;
}

/**
 * convert a hex string to an array of RGB values
 * @param {*} hex 
 * @returns {Array} red, green, blue
 */

function hexToRGB(hex){

    let red = hexDigitToFloat(hex.slice(1,3));
    let green = hexDigitToFloat(hex.slice(3,5));
    let blue = hexDigitToFloat(hex.slice(5,7));

    return([red,green,blue]);
}

/**
 * Convet an RGB value to HSL
 * @param {*} red 
 * @param {*} green 
 * @param {*} blue 
 * @returns {Array} hue, saturation, lightness
 */

function RGBToHSL(red, green, blue){
    let max = Math.max(red, green, blue), min = Math.min(red, green, blue);
    let hue, saturation, lightness = (max + min) / 2;

    if (max == min){

        hue = saturation = 0;

    } else {

        var range = max - min;
        if(lightness &lt; 0.5){
            saturation = range / (max + min);
        } else {
            saturation = range / (2 - max - min);
        }
        

        switch(max) {

            case red: 
                hue = (green - blue) / range + (green &lt; blue ? 6 : 0); 
                break;
                
            case green: 
                hue = (blue - red) / range + 2; 
                break;

            case blue: 
                hue = (red - green) / range + 4; 
                break;

        }
        
        hue /= 6;
    }

    hue = Math.round(hue*360);

    saturation = Math.round(saturation*100);
    lightness = Math.round(lightness*100);

    return [ hue, saturation, lightness ];
}

/**
 * Convert a float (0-1) to a hex digit (string)
 * @param {*} x 
 * @returns {string}
 */

function floatToHexDigit(x){
    let output = Math.round(x * 255).toString(16);
    output = output.length === 1 ? `0${output}` : output;
    return output;
};

/**
 * Convert a hue value to a channel value
 * @param {*} p 
 * @param {*} q 
 * @param {*} t 
 * @returns {number}
 */

const hueToChannel = (p, q, t) => {
    if (t &lt; 0) t += 1;
    if (t > 1) t -= 1;
    if (t &lt; 1 / 6) return p + (q - p) * 6 * t;
    if (t &lt; 1 / 2) return q;
    if (t &lt; 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
    return p;
};

/**
 * Convert hue, saturation, lightness value to a hex string
 * @param {*} hue 
 * @param {*} saturation 
 * @param {*} lightness 
 * @returns {string}
 */

function HSLToHex(hue, saturation, lightness){
    let rgb;

    hue /= 360;
    saturation /= 100;
    lightness /= 100;
    

    if (saturation === 0) {

        rgb = [lightness, lightness, lightness]

    } else {
        
        const q = lightness &lt; 0.5 ? lightness * (1 + saturation) : lightness + saturation - lightness * saturation;
        const p = 2 * lightness - q;

        const red = hueToChannel(p, q, hue + 1 / 3);
        const green = hueToChannel(p, q, hue);
        const blue = hueToChannel(p, q, hue - 1 / 3);

        rgb = [red, green, blue];
    }

    rgb = rgb.map(x=>floatToHexDigit(x));

    const hex = `#${rgb.join('')}`;
    
    return hex;
}

export { hexToRGB, RGBToHSL, HSLToHex, floatToHexDigit, hexDigitToFloat }</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CSSToggle.html">CSSToggle</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addAnimation">addAnimation</a></li><li><a href="global.html#constrain">constrain</a></li><li><a href="global.html#create">create</a></li><li><a href="global.html#createAnimation">createAnimation</a></li><li><a href="global.html#createFilter">createFilter</a></li><li><a href="global.html#createNS">createNS</a></li><li><a href="global.html#emit">emit</a></li><li><a href="global.html#floatToHexDigit">floatToHexDigit</a></li><li><a href="global.html#ftos">ftos</a></li><li><a href="global.html#getTranslate">getTranslate</a></li><li><a href="global.html#hexDigitToFloat">hexDigitToFloat</a></li><li><a href="global.html#hexToInt">hexToInt</a></li><li><a href="global.html#hexToRGB">hexToRGB</a></li><li><a href="global.html#HSLToHex">HSLToHex</a></li><li><a href="global.html#hueToChannel">hueToChannel</a></li><li><a href="global.html#interpolate">interpolate</a></li><li><a href="global.html#intToHex">intToHex</a></li><li><a href="global.html#map">map</a></li><li><a href="global.html#mtof">mtof</a></li><li><a href="global.html#populate">populate</a></li><li><a href="global.html#RGBToHSL">RGBToHSL</a></li><li><a href="global.html#rot">rot</a></li><li><a href="global.html#set">set</a></li><li><a href="global.html#setInTree">setInTree</a></li><li><a href="global.html#setNS">setNS</a></li><li><a href="global.html#setSvgTextClass">setSvgTextClass</a></li><li><a href="global.html#stof">stof</a></li><li><a href="global.html#stom">stom</a></li><li><a href="global.html#toggleFullscreen">toggleFullscreen</a></li><li><a href="global.html#toggleScroll">toggleScroll</a></li><li><a href="global.html#transposeForPlayer">transposeForPlayer</a></li><li><a href="global.html#v">v</a></li><li><a href="global.html#within">within</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Thu Mar 16 2023 09:25:50 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
