# multitouch-mapper

Pick up touch and mouse events..

This is work in progress and not really intented for external projects just yet!

In fact some of this might be a bit redundant by current standards, but it's a good solution to some quite specific problems I've encountered over the last few years (especially around musical instruments).

Notes below are mostly for my own information and need updating to reflect recent restructuring. 

Please get in touch if this package is of interest, and we can figure out if it's worth trying out.

CM2022

## purpose

- To pick up multitouch more effectively for digital musical instruments (and beyond) where conventional DOM interactions might be restrictive.

- To help facilitate a grounding for canvas-based interactions with DOM elements sitting underneath (in an "underlay" layer) to support screen reader interactions.

## CSS tip
To avoid issues with multitouch scrolling/pinching on mobile, incorporate this in the document body or appropriate container...
```
            touch-action: none;
            -webkit-touch-callout: none; 
```

On iOS, this should allow up to four fingers to be used for multitouch before the default system behaviour kicks in.  
On Android, this should allow up to two fingers to be used for multitouch before the default system behaviour kicks in(? test this)
## process

An instance of MultitouchMapper stores a buffer of items categorised by CSS selectors or strings (assuming, at present, that it is easiest to pick up the location of an object on the dom rather than fixed coordinates or other methods).


~~To make this happen, the object will:~~

- ~~Assign "pointer-events:none" to all items that might get in the way, including the overlay canvas.~~
- ~~Assign "pointer-events:auto" to items to pick up~~
- Assign itself as an event listener to the document

My preferred way of working with touch is to use an overlay e.g. a canvas as a blanket to prevent touch interactions, and also to provide a layer for annotations, animations etc. to happen over the relevant elements.

We may choose to have multiple instances of the object (or eventually, cover multiple targets within the same object)...for example if several canvas overlays are present on the page. 

At the moment, the best way to implement appears to be to cover the whole document as the target.  I would usually prefer to use a canvas as a target for picking up mouse / touch events, but this becomes problematic as pointer events need to be detected on said target, and therefore conflict with the object's search for the frontmost element.

## coordinates

A few different options are available to report back coordinates...some of this exists within generic touch events.  

